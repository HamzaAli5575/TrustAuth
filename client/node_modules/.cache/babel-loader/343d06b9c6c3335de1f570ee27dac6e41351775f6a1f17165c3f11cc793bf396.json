{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hp\\\\Desktop\\\\work\\\\InterviewProject\\\\AuthProject\\\\r-auth-native\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport { Helmet, HelmetProvider } from 'react-helmet';\nimport Auth from './components/Auth';\nimport Dashboard from './components/Dashboard';\nimport Callback from './components/Callback';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const savedUser = localStorage.getItem('user');\n    if (savedUser) {\n      setUser(JSON.parse(savedUser));\n    }\n    setLoading(false);\n  }, []);\n  const handleLogin = userData => {\n    setUser(userData);\n  };\n  const handleLogout = currentUser => {\n    const isKeycloak = currentUser && currentUser.provider === 'keycloak';\n    if (isKeycloak) {\n      const logoutKeycloak = window.confirm(\"You are logged in via Keycloak. Do you want to logout of Keycloak as well?\");\n      if (logoutKeycloak) {\n        localStorage.clear();\n        setUser(null);\n        window.location.href = 'http://localhost:8080/realms/r-realm/protocol/openid-connect/logout?redirect_uri=http://localhost:3000/';\n      } else {\n        localStorage.clear();\n        setUser(null);\n      }\n    } else {\n      localStorage.clear();\n      setUser(null);\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: '100vh',\n      background: '#f1f5f9',\n      display: 'grid',\n      placeItems: 'center',\n      fontSize: '1.2rem',\n      color: '#0ea5e9'\n    },\n    children: \"Loading App...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(HelmetProvider, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: [/*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"generator\",\n        content: \"TrustAuth Enterprise\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        \"http-equiv\": \"X-Content-Type-Options\",\n        content: \"nosniff\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"referrer\",\n        content: \"no-referrer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        \"http-equiv\": \"X-XSS-Protection\",\n        content: \"1; mode=block\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        \"http-equiv\": \"X-Frame-Options\",\n        content: \"DENY\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BrowserRouter, {\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: !user ? /*#__PURE__*/_jsxDEV(Auth, {\n            onLogin: handleLogin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 44\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 77\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/auth/callback\",\n          element: /*#__PURE__*/_jsxDEV(Callback, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 49\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/dashboard\",\n          element: user ? /*#__PURE__*/_jsxDEV(Dashboard, {\n            user: user,\n            onLogout: handleLogout\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 52\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 104\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Routes","Route","Navigate","Helmet","HelmetProvider","Auth","Dashboard","Callback","jsxDEV","_jsxDEV","App","_s","user","setUser","loading","setLoading","savedUser","localStorage","getItem","JSON","parse","handleLogin","userData","handleLogout","currentUser","isKeycloak","provider","logoutKeycloak","window","confirm","clear","location","href","style","height","background","display","placeItems","fontSize","color","children","fileName","_jsxFileName","lineNumber","columnNumber","name","content","path","element","onLogin","to","onLogout","_c","$RefreshReg$"],"sources":["C:/Users/Hp/Desktop/work/InterviewProject/AuthProject/r-auth-native/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport { Helmet, HelmetProvider } from 'react-helmet';\nimport Auth from './components/Auth';\nimport Dashboard from './components/Dashboard';\nimport Callback from './components/Callback';\nimport './App.css';\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const savedUser = localStorage.getItem('user');\n    if (savedUser) {\n      setUser(JSON.parse(savedUser));\n    }\n    setLoading(false);\n  }, []);\n\n  const handleLogin = (userData) => {\n    setUser(userData);\n  };\n\n  const handleLogout = (currentUser) => {\n    const isKeycloak = currentUser && currentUser.provider === 'keycloak';\n\n    if (isKeycloak) {\n      const logoutKeycloak = window.confirm(\"You are logged in via Keycloak. Do you want to logout of Keycloak as well?\");\n      if (logoutKeycloak) {\n        localStorage.clear();\n        setUser(null);\n        window.location.href = 'http://localhost:8080/realms/r-realm/protocol/openid-connect/logout?redirect_uri=http://localhost:3000/';\n      } else {\n        localStorage.clear();\n        setUser(null);\n      }\n    } else {\n      localStorage.clear();\n      setUser(null);\n    }\n  };\n\n  if (loading) return <div style={{height:'100vh', background:'#f1f5f9', display:'grid', placeItems:'center', fontSize:'1.2rem', color:'#0ea5e9'}}>Loading App...</div>;\n\n  return (\n    <HelmetProvider>\n      {/* SECURITY HEADERS */}\n      <Helmet>\n        {/* Hides technology stack from network sniffers */}\n        <meta name=\"generator\" content=\"TrustAuth Enterprise\" />\n        \n        {/* Prevents content sniffing (makes it harder to analyze API calls) */}\n        <meta http-equiv=\"X-Content-Type-Options\" content=\"nosniff\" />\n        \n        {/* Clickjacking Protection (Prevents hijacking clicks) */}\n        <meta name=\"referrer\" content=\"no-referrer\" />\n        \n        {/* XSS Protection (Prevents reflection attacks) */}\n        <meta http-equiv=\"X-XSS-Protection\" content=\"1; mode=block\" />\n        \n        {/* Frame Options (Prevents clickjacking via iframes) */}\n        <meta http-equiv=\"X-Frame-Options\" content=\"DENY\" />\n        \n        {/* Strict Transport Security (When you buy a real domain, enable this) */}\n        {/* <meta http-equiv=\"Strict-Transport-Security\" content=\"max-age=31536000; includeSubDomains; preload\" /> */}\n      </Helmet>\n\n      <BrowserRouter>\n        <Routes>\n          <Route path=\"/\" element={!user ? <Auth onLogin={handleLogin} /> : <Navigate to=\"/dashboard\" />} />\n          <Route path=\"/auth/callback\" element={<Callback />} />\n          <Route path=\"/dashboard\" element={user ? <Dashboard user={user} onLogout={handleLogout} /> : <Navigate to=\"/\" />} />\n          <Route path=\"*\" element={<Navigate to=\"/\" />} />\n        </Routes>\n      </BrowserRouter>\n    </HelmetProvider>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}