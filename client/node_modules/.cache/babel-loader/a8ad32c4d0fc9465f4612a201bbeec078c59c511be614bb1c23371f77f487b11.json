{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hp\\\\Desktop\\\\work\\\\InterviewProject\\\\AuthProject\\\\r-auth-native\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport Auth from './components/Auth';\nimport Dashboard from './components/Dashboard';\nimport Callback from './components/Callback';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const savedUser = localStorage.getItem('user');\n    if (savedUser) {\n      setUser(JSON.parse(savedUser));\n    }\n    setLoading(false);\n  }, []);\n  const handleLogin = userData => {\n    setUser(userData);\n  };\n  const handleLogout = currentUser => {\n    const isKeycloak = currentUser && currentUser.provider === 'keycloak';\n    if (isKeycloak) {\n      const logoutKeycloak = window.confirm(\"You are logged in via Keycloak. Do you want to logout of Keycloak as well?\");\n      if (logoutKeycloak) {\n        localStorage.clear();\n        setUser(null);\n        window.location.href = 'http://localhost:8080/realms/r-realm/protocol/openid-connect/logout?redirect_uri=http://localhost:3000/';\n      } else {\n        localStorage.clear();\n        setUser(null);\n      }\n    } else {\n      localStorage.clear();\n      setUser(null);\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: '100vh',\n      background: '#f1f5f9',\n      display: 'grid',\n      placeItems: 'center',\n      fontSize: '1.2rem',\n      color: '#0ea5e9'\n    },\n    children: \"Loading App...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: !user ? /*#__PURE__*/_jsxDEV(Auth, {\n          onLogin: handleLogin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 42\n        }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 75\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/auth/callback\",\n        element: /*#__PURE__*/_jsxDEV(Callback, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 47\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/dashboard\",\n        element: user ? /*#__PURE__*/_jsxDEV(Dashboard, {\n          user: user,\n          onLogout: handleLogout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 50\n        }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 102\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"*\",\n        element: /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Routes","Route","Navigate","Auth","Dashboard","Callback","jsxDEV","_jsxDEV","App","_s","user","setUser","loading","setLoading","savedUser","localStorage","getItem","JSON","parse","handleLogin","userData","handleLogout","currentUser","isKeycloak","provider","logoutKeycloak","window","confirm","clear","location","href","style","height","background","display","placeItems","fontSize","color","children","fileName","_jsxFileName","lineNumber","columnNumber","path","element","onLogin","to","onLogout","_c","$RefreshReg$"],"sources":["C:/Users/Hp/Desktop/work/InterviewProject/AuthProject/r-auth-native/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport Auth from './components/Auth';\nimport Dashboard from './components/Dashboard';\nimport Callback from './components/Callback';\nimport './App.css';\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const savedUser = localStorage.getItem('user');\n    if (savedUser) {\n      setUser(JSON.parse(savedUser));\n    }\n    setLoading(false);\n  }, []);\n\n  const handleLogin = (userData) => {\n    setUser(userData);\n  };\n\n  const handleLogout = (currentUser) => {\n    const isKeycloak = currentUser && currentUser.provider === 'keycloak';\n\n    if (isKeycloak) {\n      const logoutKeycloak = window.confirm(\"You are logged in via Keycloak. Do you want to logout of Keycloak as well?\");\n\n      if (logoutKeycloak) {\n        localStorage.clear();\n        setUser(null);\n        window.location.href = 'http://localhost:8080/realms/r-realm/protocol/openid-connect/logout?redirect_uri=http://localhost:3000/';\n      } else {\n        localStorage.clear();\n        setUser(null);\n      }\n    } else {\n      localStorage.clear();\n      setUser(null);\n    }\n  };\n\n  if (loading) return <div style={{height:'100vh', background:'#f1f5f9', display:'grid', placeItems:'center', fontSize:'1.2rem', color:'#0ea5e9'}}>Loading App...</div>;\n\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/\" element={!user ? <Auth onLogin={handleLogin} /> : <Navigate to=\"/dashboard\" />} />\n        <Route path=\"/auth/callback\" element={<Callback />} />\n        <Route path=\"/dashboard\" element={user ? <Dashboard user={user} onLogout={handleLogout} /> : <Navigate to=\"/\" />} />\n        <Route path=\"*\" element={<Navigate to=\"/\" />} />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}